# {{.Name}} - Production Environment Configuration

# Environment configuration
environment = "production"

# Network configuration
vpc_cidr = "10.2.0.0/16"
availability_zones = ["us-west-2a", "us-west-2b", "us-west-2c"]

# Kubernetes configuration
kubernetes_version = "1.28"
node_instance_type = "m5.large"
min_node_count = 3
max_node_count = 20
desired_node_count = 6

# Database configuration
db_instance_class = "db.r5.large"
db_allocated_storage = 100
db_max_allocated_storage = 1000
db_backup_retention_period = 30
db_multi_az = true

# Redis configuration
redis_node_type = "cache.r5.large"
redis_num_cache_nodes = 3

# SSL/TLS configuration
enable_ssl = true
ssl_certificate_arn = ""  # Will be created automatically

# Domain configuration
domain_name = "{{.Name}}.{{.Organization}}.com"
create_route53_zone = true

# Monitoring and logging
enable_monitoring = true
enable_logging = true
log_retention_days = 90

# Backup configuration
enable_backups = true
backup_schedule = "0 2 * * *"
backup_retention_days = 90

# Security configuration
enable_waf = true
allowed_cidr_blocks = ["0.0.0.0/0"]
enable_vpc_flow_logs = true

# Cost optimization
enable_spot_instances = false
spot_instance_types = ["m5.large", "m5.xlarge", "c5.large"]

# Auto-scaling configuration
enable_cluster_autoscaler = true
enable_horizontal_pod_autoscaler = true
enable_vertical_pod_autoscaler = true

# Disaster recovery
enable_cross_region_backup = true
backup_region = "us-east-1"

# Development configuration
enable_bastion_host = false
bastion_instance_type = "t3.small"

# Feature flags
enable_service_mesh = true
enable_chaos_engineering = false
enable_canary_deployments = true

# Additional tags
additional_tags = {
  Environment = "production"
  Purpose     = "production-workload"
  Compliance  = "required"
  Backup      = "critical"
  Monitoring  = "24x7"
}